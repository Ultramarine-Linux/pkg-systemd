From 2dcc89840ae19fe79adf88b7a004fe6a1bb33d84 Mon Sep 17 00:00:00 2001
From: Lennart Poettering <lennart@poettering.net>
Date: Mon, 14 Jan 2013 20:37:12 +0100
Subject: [PATCH] core: document that JoinControllers= might be ineffective in
 initrd uses

https://bugzilla.redhat.com/show_bug.cgi?id=875531
(cherry picked from commit e5e991a11c7749f8cb424e99ca4206264b0cf836)
---
 man/systemd.conf.xml | 15 ++++++++++++++-
 1 file changed, 14 insertions(+), 1 deletion(-)

diff --git a/man/systemd.conf.xml b/man/systemd.conf.xml
index a6be932..da3c7f7 100644
--- a/man/systemd.conf.xml
+++ b/man/systemd.conf.xml
@@ -134,7 +134,20 @@
                                 'cpu,cpuacct'. Pass an empty string to
                                 ensure that systemd mounts all
                                 controllers in separate
-                                hierarchies.</para></listitem>
+                                hierarchies.</para>
+
+                                <para>Note that this option is only
+                                applied once, at very early boot. If
+                                you use an initial RAM disk (initrd)
+                                that uses systemd it might hence be
+                                necessary to rebuild the initrd if
+                                this option is changed, and make sure
+                                the new configuration file is included
+                                in it. Otherwise the initrd might
+                                mount the controllers in different
+                                configuration than intended, and the
+                                main system cannot remount them
+                                anymore.</para></listitem>
                         </varlistentry>
 
                         <varlistentry>
