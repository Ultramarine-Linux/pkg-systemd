From dbf6dabeabac8cee73d8b958920996be0bad29dc Mon Sep 17 00:00:00 2001
From: Pali Rohar <pali.rohar@gmail.com>
Date: Tue, 9 Apr 2013 15:32:22 +0200
Subject: [PATCH] keymap: Add HP EliteBook 8460p

Taken from
https://code.launchpad.net/~pali/ubuntu/raring/udev/hp-elitebook-8460p/+merge/157420

Signed-off-by: Martin Pitt <martinpitt@gnome.org>
(cherry picked from commit 72bd03c636b72156e93ea43886b0b54d96446d27)
---
 Makefile.am                             | 1 +
 keymaps/hewlett-packard_elitebook-8460p | 3 +++
 src/udev/keymap/95-keymap.rules         | 1 +
 3 files changed, 5 insertions(+)
 create mode 100644 keymaps/hewlett-packard_elitebook-8460p

diff --git a/Makefile.am b/Makefile.am
index 18b9c4c..c192cb3 100644
--- a/Makefile.am
+++ b/Makefile.am
@@ -2400,6 +2400,7 @@ dist_udevkeymap_DATA = \
 	keymaps/hewlett-packard-tablet \
 	keymaps/hewlett-packard-tx2 \
 	keymaps/hewlett-packard_elitebook-8440p \
+	keymaps/hewlett-packard_elitebook-8460p \
 	keymaps/hewlett-packard-hdx9494nr \
 	keymaps/ibm-thinkpad-usb-keyboard-trackpoint \
 	keymaps/inventec-symphony_6.0_7.0 \
diff --git a/keymaps/hewlett-packard_elitebook-8460p b/keymaps/hewlett-packard_elitebook-8460p
new file mode 100644
index 0000000..1fe1b72
--- /dev/null
+++ b/keymaps/hewlett-packard_elitebook-8460p
@@ -0,0 +1,3 @@
+0xF8 wlan # Wireless HW switch button
+0xB3 prog1 # Fn+F11 - Ambient Light Sensor button
+0xB1 prog2 # Fn+ESC - System information button
diff --git a/src/udev/keymap/95-keymap.rules b/src/udev/keymap/95-keymap.rules
index 4e0ddfc..cc57cb0 100644
--- a/src/udev/keymap/95-keymap.rules
+++ b/src/udev/keymap/95-keymap.rules
@@ -100,6 +100,7 @@ ENV{DMI_VENDOR}=="Hewlett-Packard", ATTR{[dmi/id]product_name}=="Presario 2100*"
 ENV{DMI_VENDOR}=="Hewlett-Packard", ATTR{[dmi/id]product_name}=="HP G62 Notebook PC", RUN+="keymap $name 0xB2 www"
 ENV{DMI_VENDOR}=="Hewlett-Packard", ATTR{[dmi/id]product_name}=="HP ProBook*", RUN+="keymap $name 0xF8 rfkill 0xB2 www"
 ENV{DMI_VENDOR}=="Hewlett-Packard", ATTR{[dmi/id]product_name}=="HP EliteBook 8440p", RUN+="keymap $name hewlett-packard_elitebook-8440p"
+ENV{DMI_VENDOR}=="Hewlett-Packard", ATTR{[dmi/id]product_name}=="HP EliteBook 8446p", RUN+="keymap $name hewlett-packard_elitebook-8460p"
 ENV{DMI_VENDOR}=="Hewlett-Packard", ATTR{[dmi/id]product_name}=="HDX9494NR", RUN+="keymap $name hewlett-packard-hdx9494nr"
 # HP Pavillion dv6315ea has empty DMI_VENDOR
 ATTR{[dmi/id]board_vendor}=="Quanta", ATTR{[dmi/id]board_name}=="30B7", ATTR{[dmi/id]board_version}=="65.2B", RUN+="keymap $name 0x88 media" # "quick play
