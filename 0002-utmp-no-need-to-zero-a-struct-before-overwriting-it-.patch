From b8e47420b32b52619c6c49c98a663bee7929ccbe Mon Sep 17 00:00:00 2001
From: Michal Schmidt <mschmidt@redhat.com>
Date: Sun, 6 Nov 2011 23:07:54 +0100
Subject: [PATCH 2/4] utmp: no need to zero a struct before overwriting it
 with memcpy

---
 src/utmp-wtmp.c |    2 --
 1 files changed, 0 insertions(+), 2 deletions(-)

diff --git a/src/utmp-wtmp.c b/src/utmp-wtmp.c
index e7b2e3c..98c1a25 100644
--- a/src/utmp-wtmp.c
+++ b/src/utmp-wtmp.c
@@ -242,8 +242,6 @@ int utmp_put_dead_process(const char *id, pid_t pid, int code, int status) {
         if (found->ut_pid != pid)
                 return 0;
 
-        zero(store);
-
         memcpy(&store, &lookup, sizeof(store));
         store.ut_type = DEAD_PROCESS;
         store.ut_exit.e_termination = code;
-- 
1.7.7.5

