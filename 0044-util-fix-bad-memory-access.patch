From da252dce62cf33efebc91834f5ee852e745d66ce Mon Sep 17 00:00:00 2001
From: Lennart Poettering <lennart@poettering.net>
Date: Thu, 17 Jan 2013 17:38:00 +0100
Subject: [PATCH] util: fix bad memory access (cherry picked from commit
 86ed7ec58b9b6a0907bbb3b8d07c930e52915de0)

---
 src/shared/util.c | 1 -
 1 file changed, 1 deletion(-)

diff --git a/src/shared/util.c b/src/shared/util.c
index 13f1a1c..b467ea3 100644
--- a/src/shared/util.c
+++ b/src/shared/util.c
@@ -439,7 +439,6 @@ int get_parent_of_pid(pid_t pid, pid_t *_ppid) {
 
         if (!fgets(line, sizeof(line), f)) {
                 r = feof(f) ? -EIO : -errno;
-                fclose(f);
                 return r;
         }
 
